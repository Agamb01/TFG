%---------------------------------------------------------------------
%
%                          Capítulo 1
%
%---------------------------------------------------------------------
\chapter{Introducción}
\label{introduccion}

%\begin{resumen}
%En este capítulo se realiza una introducción al trabajo realizado durante el proyecto. Se plantea el problema, se enumeran los objetivos del trabajo y se define la estructura de este documento.
%\end{resumen}

%%-------------------------------------------------------------------
%\section{Introducción}
%%-------------------------------------------------------------------
%\label{introduccion:introduccion}

Esta monografía es el resultado del estudio e investigación realizados para la asignatura "`Trabajo de Fin de Grado"' del Grado en Ingeniería de Computadores que se ha llevado a cabo en el departamento de "`Arquitectura de Computadores y Automática (DACYA)"' de la Universidad Complutense de Madrid (UCM), bajo la dirección del Dr. José Miguel Montañana Aliaga.

El trabajo se centra en el desarrollo e implementación de un microprocesador tolerante a fallos transitorios, con un diseño que le permita ser compatible con las instrucciones ARM. La tolerancia a fallos aplicada ha sido el "`modelo de replicado triple de módulos(TMR)"' \cite{Habinc2002}.


%%-------------------------------------------------------------------
\section{Motivación}
%%-------------------------------------------------------------------
\label{introduccion:motivacion}

%Hay ordenadores
Hoy en día, el uso de la tecnología y la informática se extienden a nivel mundial, con aplicación en aumento a un mayor número de campos. La tecnología está cada vez más presente en nuestras vidas, ya no se concibe un hogar o puesto de trabajo sin un ordenador. 

\begin{figure}[h]
  \centering
  \includegraphics[width=0.7\textwidth]{Imagenes/Capitulo1/Uso_hogares.eps}
  \caption{Equipamiento de los hogares.\cite{Estadistica2014}} 
	\label{fig:uso_en_hogares}
\end{figure}

El uso de los dispositivos electrónicos de carácter personal va en aumento, convirtiéndose en elementos imprescindibles en nuestros hogares (figura \ref{fig:uso_en_hogares}). Las estadísticas publicadas por el Instituto Nacional de Estadística (INE) \cite{Estadistica2014}, muestran que en España más del 95\% de los hogares posee al menos un teléfono móvil, normalmente teléfonos inteligentes, y más del 70\% posee un ordenador personal, lo que es un indicativo de la necesidad y dependencia tecnológica existente en estos tiempos.


%Los ordenadores tienen CPUs
Estos dispositivos, y muchos otros presentes en nuestra vida cotidiana, contienen con componentes micro-electrónicos. Poseen un microprocesador que es el "`cerebro"' y responsable de dirigir el sistema ejecutando los programas.

%Las CPUs pueden fallar
Los microprocesadores, como todos los sistemas, son susceptibles de sufrir fallos y producir errores a varios niveles (se explican en el capítulo \ref{fallos}), errores que provocan comportamientos erráticos o no deseados. 

%Y sus causas
Con un tamaño cada vez más pequeño, los sistemas electrónicos resultan más sensibles a los efectos de los "`ruidos de transmisión"'\footnote{Interferencias en la señal que tiende a enmascarar la información transmitida.} producidos por la radiación y los rayos cósmicos. 

Las radiaciones cósmicas puede provocar fallos en cualquier sistema electrónico, dañando el mismo permanente o temporalmente, por ello, los sistemas de los satélites que orbitan alrededor de la tierra o de los aviones que se desplazan a gran altura deben ser mucho más robustos que los sistemas que trabajan a nivel del suelo. En la figura \ref{fig:errores_vs_altitud}, se representa la variación de la radiación con respecto a la longitud y latitud terrestres. Se observa que hay un mayor flujo de radiación cuanto mayor es la distancia al ecuador. Fundamentalmente debido a la  menor protección que proporciona la atmósfera frente a la radiación y los rayos cósmicos provenientes del espacio. 

\begin{figure}[h]
  \centering
  \includegraphics[width=0.70\textwidth]{Imagenes/Capitulo1/Neutrones1.eps}
	\caption{Flujo de neutrones a 40.000 pies de altitud \cite{Hu2010}.} 
	\label{fig:errores_vs_altitud}
\end{figure}


%Ejemplos donde los fallos son malos
%  Consecuencias para la vida
Los fallos, en dispositivos médicos, pueden provocar consecuencias fatales e incluso la pérdida de vidas humanas. Tal puede ser el caso en los sistemas biomédicos encargados de asistir a la vida de una persona, como un marcapasos o un equipo de respiración asistida.

%  Consecuencias para la vida y economica
En el sector del transporte, vehículos y aeronaves controlados por sistemas electrónicos pueden sufrir fallos y causar accidentes con pérdidas humanas y económicas.

%  Consecuencias económicas
En el campo aeroespacial si un sistema falla de forma irrecuperable, causará la pérdida del sistema completo con un coste económico muy elevado. 

% Ejemplo
El día 7 de octubre de 2008, un avión Airbus A330-303 que había despegado de Singapur con destino Perth, Australia, sufrió dos descensos rápidos de 650 y 400 pies. Tras las investigaciones, las autoridades australianas llegaron a la conclusión que la "`Air Data Inertial Reference Unit"' (ADIRU) podría haber sufrido un fallo provocado por radiaciones cósmicas \cite{Investigation2008}.

%Tolerancia
Para garantizar el correcto funcionamiento de estos sistemas existen múltiples técnicas de tolerancia a fallos, técnicas que ayudan a detectar los fallos y a recuperar el sistema antes de que causen errores. Aplicando una o varias de estas técnicas se obtiene un sistema robusto y capaz de funcionar ante los fallos inducidos por la radiación u otros agentes externos.



%%-------------------------------------------------------------------
\section{Planteamiento del problema}
%%-------------------------------------------------------------------
\label{introduccion:planteamiento}

Este trabajo tiene en cuenta que el motor principal de muchos sistemas es el procesador o microprocesador. El procesador de un sistema es su \textit{cerebro}, más concretamente es el encargado de ejecutar las instrucciones que componen los programas.

Si no se toman medidas de prevención y tolerancia, este \textit{cerebro} puede ver alterado su comportamiento por efectos externos, provocando errores de ejecución del programa. Errores que a su vez pueden ser causa de un comportamiento no deseado alterando los datos, modificando el funcionamiento del propio procesador.

Con este trabajo se pretende ofrecer un medio para evitar estas situaciones concediendo un grado extra de fiabilidad a los sistemas basados en micro-procesadores. Para ello se quiere diseñar e implementar un microprocesador sencillo capaz de ejecutar un conjunto reducido de instrucciones (RISC), al que posteriormente se le aplicarán las técnicas de tolerancia a fallos, aumentando así su capacidad de detectar e incluso recuperarse de los fallos.

%%-------------------------------------------------------------------
\section{Objetivo}
%%-------------------------------------------------------------------
\label{introduccion:objetivos}

Una vez planteado el problema señalado en el apartado anterior, el objetivo del presente trabajo es diseñar un procesador con un grado de fiabilidad mayor que un procesador convencional. 

El proyecto se ha divido en tres tareas dedicadas a la implementación del microprocesador y a la aplicación de la tolerancia a fallos.

\begin{enumerate}
 \renewcommand\labelenumi{\bfseries\theenumi}
  \item \textbf{Implementación del procesador.}
	
	Se ha implementado el procesador segmentado en 5 etapas. El juego de instrucciones de 32 bits empleado es un subconjunto de instrucciones de la arquitectura ARM. Simulando unos pequeños programas se comprueba que el procesador es capaz de decodificar y ejecutar las nuevas instrucciones. 
	
	\item \textbf{Diseño de tolerancia a fallos.} 
	
	Una vez implementado el procesador completo y comprobado su funcionamiento se diseña y se incorpora la tolerancia a fallos. Para ello se \textbf{triplican} los módulos que pueden causar mayor número de fallos y se insertan \textbf{votadores} de mayoría.
	
	\item	\textbf{Diseño del sistema de inserción de fallos.}
	
	Para finalizar se ha diseñado un sistema externo de inserción de fallos. Este sistema es capaz de alterar los valores de las salidas de los módulos triplicados, para comprobar después como afecta esto al funcionamiento del procesador.
	
\end{enumerate}


%%-------------------------------------------------------------------
\section{Estructura del documento}
%%-------------------------------------------------------------------
\label{introduccion:estructura}

\begin{description}
  \item Capitulo \ref{introduccion} \textit{Introducción}: 
	
	En el presente capitulo \ref{introduccion} se realiza la introducción al proyecto propuesto y realizado para el trabajo de fin de grado que se desarrolla en este documento.
	
  \item Capitulo \ref{procesador} \textit{Arquitectura de un procesador}:
	
	En el capitulo \ref{procesador} se realiza una introducción al diseño de un procesador y sus características.

	\item Capitulo \ref{fallos} \textit{Fallos y tolerancia}: 
	
	En el capitulo \ref{fallos} se introducen los fallos, y se definen técnicas de tolerancia frente a estos.
	
	\item Capitulo \ref{trabajoprocesador} \textit{Trabajo realizado}: 
	
	En el capitulo \ref{trabajoprocesador} se describe el diseño y arquitectura final del microprocesador y sus componentes.
	
	\item Capitulo \ref{trabajotolerancia} \textit{Aplicando tolerancia a fallos}: 
	
	En el capitulo \ref{trabajotolerancia} se describe cómo se ha proporcionado la tolerancia a fallos y qué técnicas se han utilizado.
	
	\item Capitulo \ref{resultados} \textit{Resultados}: 
	
	En el capitulo \ref{resultados} se muestran los resultados obtenidos de las síntesis, implementaciones y simulaciones realizadas.
	
	\item Capitulo \ref{analisis} \textit{Análisis de los resultados}: 
	
	En el capitulo \ref{analisis} se analizan los resultados mostrados en el capítulo anterior.
	
	\item Capitulo \ref{conclusiones} \textit{Conclusiones}: 
	
	En el capitulo \ref{conclusiones} se describen las conclusiones tras analizar los resultados.
	
\end{description}
